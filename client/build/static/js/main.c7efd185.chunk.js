(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{29:function(e,t,a){e.exports=a(64)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},58:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),o=(a(34),a(11)),i=a(7),s=a(6);a(35);var m=function(e){var t=e.children,a=e.title,n=e.lead;return l.a.createElement("div",{className:"jumbotron jumbotron-fluid text-light"},l.a.createElement("div",{className:"container text-center"},l.a.createElement("h1",{className:"display-3"},a),l.a.createElement("h1",{className:"display-5 display-md-6"},n)),t)};a(36);var u=function(e){return l.a.createElement("div",{className:"row ".concat(e.spacing," ")},e.children)};function d(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row container d-flex align-self-end"},l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("button",{type:"button",className:"btn btn-primary mx-2",onClick:e.handleSubmit},"Search"))))}function v(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",Object.assign({type:"button",className:"btn btn-primary mx-2 ".concat(e["data-value"])},e),"Save"))}function g(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",Object.assign({className:"btn btn-success active",href:e.link,target:"_blank",onClick:e.onClick},e),"View"))}function f(e){return l.a.createElement("span",Object.assign({className:"btn btn-info mx-2 delete-btn float-right"},e,{role:"button",tabIndex:"0"}),"\u2717")}var h=function(e){return l.a.createElement("div",{className:"card card-body"},l.a.createElement("div",{className:"row container-fluid"},l.a.createElement("div",{className:"card-title text-left"},l.a.createElement("h1",null,"Book Search"))),l.a.createElement("div",{className:"row container-fluid"},l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Search for a Book...",name:"search",value:e.search,onChange:e.handleInputChange})),l.a.createElement(d,{handleSubmit:e.handleSubmit})))};var E=function(e){return l.a.createElement("div",{className:"col-lg-10 col-xl-11 d-flex align-content-center text-center mx-auto container-fluid justify-content-center"},e.children)};a(37);var b=function(e){return l.a.createElement("div",{className:"card card-body border-light m-3 animated fadeIn"},e.children)};var p=function(e){return l.a.createElement("div",{className:"col-4 align-self-center"},l.a.createElement("img",{src:e.thumbnail,className:"img-fluid img-responsive",alt:"thumbnail"}))};var k=function(e){return l.a.createElement("div",null,e.saved?l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{link:e.link,onClick:e.onClick}),l.a.createElement(f,{id:e.id,onClick:e.delete})):l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{key:e.id,onClick:e.handleSave}),l.a.createElement(g,{link:e.link,onClick:e.onClick})))};var N=function(e){var t=e.id,a=e.title,n=e.description,r=e.thumbnail,c=e.subtitle,o=e.authors,i=e.handleSave,s=e.link,m=e.onClick,d=e.saved,v=e.handleDelete;return l.a.createElement(l.a.Fragment,null,void 0===n?l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null,l.a.createElement(u,{spacing:"row align-self-center d-flex justify-content-center"},l.a.createElement("div",{className:"col-4"},l.a.createElement(p,{thumbnail:r})),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"card-title text-left"},l.a.createElement("h2",{className:"display-6"},a),void 0===c?l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",null,"Written By ",o)):l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,c),l.a.createElement("h4",null,"Written By ",o)))),l.a.createElement("div",{className:"col-2"},l.a.createElement(k,{link:s,onClick:m,handleSave:i,saved:d,delete:v,id:t}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null,l.a.createElement(u,{spacing:"row container-fluid justify-content-between"},l.a.createElement("div",{className:"card-title text-left"},l.a.createElement("h6",{className:"display-6"},a),void 0===c?l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,"Written By ",o)):l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,c),l.a.createElement("br",null),l.a.createElement("small",null,"written By ",o))),l.a.createElement(k,{link:s,onClick:m,handleSave:i,saved:d,delete:v,id:t})),l.a.createElement("div",{className:"card border-light mb-3"},l.a.createElement(u,null,l.a.createElement(p,{thumbnail:r}),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"card-text overflow-auto text-left"},n))))))))};a(38);function w(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("h1",{className:"text-light"},"Results"),l.a.createElement("ul",{className:"list-group"},t))}var x=a(9),y=a.n(x),S=a(12),j=a.n(S),I={getGoogleSearchBooks:function(e){return console.log(e),j.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getBooks:function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(j.a.get("/api/books"));case 2:return e=t.sent,t.abrupt("return",e.data||[]);case 4:case"end":return t.stop()}}))},deleteBook:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(j.a.delete("/api/books/"+e));case 2:return t=a.sent,a.abrupt("return",t.data||[]);case 4:case"end":return a.stop()}}))},saveBook:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(j.a.post("/api/books",e));case 2:return t=a.sent,a.abrupt("return",t.data||[]);case 4:case"end":return a.stop()}}))}};var B=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],d=o[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),f=g[0],b=g[1];Object(n.useEffect)((function(){i&&I.getGoogleSearchBooks(i).then((function(e){if(0===e.data.length)throw new Error("No results found.");if("error"===e.data.status)throw new Error(e.data.message);r(e.data.items),console.log(e.data.items)})).catch((function(e){return console.log(e)}))}),[i]);var p=function(e){console.log("bookSaved:",e);var t=a.filter((function(t){return e._id!==t.id}));r(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,{title:"(React) Google Books Search",lead:"Search for and Save Books of Interest"}),l.a.createElement(u,{spacing:"justify-content-center mx-auto my-3"},l.a.createElement(E,null,l.a.createElement(h,{handleInputChange:function(e){b(e.target.value),console.log(i)},handleSubmit:function(e){console.log(e.target),d(f)}}))),l.a.createElement(u,{spacing:"justify-content-center mx-auto my-3"},l.a.createElement(E,null,a.length?l.a.createElement(w,null,a.map((function(e){return l.a.createElement(N,{key:e.id,id:e.id,link:e.volumeInfo.previewLink,title:e.volumeInfo.title,subtitle:e.volumeInfo.subtitle,authors:e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"",description:e.volumeInfo.description,thumbnail:e.volumeInfo.imageLinks.thumbnail||e.volumeInfo.imageLinks.smallThumbnail,saved:!1,book:e,value:e,handleSave:function(){return t={_id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"",description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail||e.volumeInfo.imageLinks.smallThumbnail,link:e.volumeInfo.infoLink,saved:!0},console.log("save button hit"),console.log("book Saved",t),void I.saveBook(t).then((function(e){console.log(e),p(t)})).catch((function(e){return console.log(e.response)}));var t}})}))):l.a.createElement("h3",{className:"text-center text-light"},"No Results to Display"))))};var C=function(e){var t=e.onClick,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];Object(n.useEffect)((function(){I.getBooks().then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[c]);var i=function(e){console.log(e.target.id),I.deleteBook(e.target.id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,{title:"(React) Google Books Search",lead:"Saved Books of Interest"}),l.a.createElement(u,null,l.a.createElement(E,null,c?l.a.createElement(w,null,c.map((function(e){return l.a.createElement(N,{key:e._id,id:e._id,link:e.link,title:e.title,subtitle:e.subtitle,authors:e.authors,description:e.description,thumbnail:e.image,book:e,value:e,saved:e.saved,handleDelete:i,onClick:t})}))):l.a.createElement("h3",{className:"text-center text-light"},"No Results to Display"))))};function F(e){return l.a.createElement("div",{className:"container-fluid"},e.children)}function O(e){return l.a.createElement("div",{className:"col-8"},e.children)}function R(e){return l.a.createElement("div",{className:"row ".concat(e.spacing," ")},e.children)}var L=function(){return l.a.createElement(F,null,l.a.createElement(R,{spacing:" row align-self-center"},l.a.createElement(O,null,l.a.createElement(m,{title:"404 Page Not Found",lead:"\ud83d\ude44"}))))};a(58);var W=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],r=t[1],c=a?"collapse navbar-collapse":"collapse navbar-collapse show animated fadeIn",i=a?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-light text-dark"},l.a.createElement("button",{onClick:function(){r(!a)},className:"".concat(i," bg-light"),type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"".concat(c," bg-light pl-2"),id:"navbarResponsive"},l.a.createElement("h1",{className:"banner"},"(React) Google Books"),l.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(o.b,{className:"nav-link",to:"/"},"Search")),l.a.createElement("li",{className:"nav-item active"},l.a.createElement(o.b,{className:"nav-link",to:"/saved"},"Saved"))),l.a.createElement("div",{className:"nav-item"},l.a.createElement("a",{className:"",href:"https://www.google.com"},"Powered by",l.a.createElement("img",{src:"https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png",className:" mx-2 mb-0 h1 img-fluid img-responsive",width:"90",height:"50",alt:"Google Logo"}))))))};var _=function(){return l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(W,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:B}),l.a.createElement(i.a,{exact:!0,path:"/saved",component:C}),l.a.createElement(i.a,{exact:!0,path:"/api/books",component:null}),l.a.createElement(i.a,{exact:!0,path:"*",component:L}))))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement(_,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");G?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):D(e)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.c7efd185.chunk.js.map